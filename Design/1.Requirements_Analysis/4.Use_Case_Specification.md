# Use Case Specification

## UC-1: Login

**Description**  
Allow the user to log in to the Multimedia Player application.

**Actors**  
User

**Goal**  
Authenticate the user using a registered account or Google account and navigate to the Playback screen.

**Preconditions**  
The user already has a registered account or a valid Google account.

**Postconditions**  
The user is successfully authenticated and navigated to the Playback Screen.

**Main Flow**

1. The user starts the Multimedia Player application.
2. The user enters their username and password or selects the Google login option.
3. The user clicks the “Login” button.
4. The system verifies the provided credentials.
5. If valid, the system navigates the user to the Playback Screen.

**Alternative Flow**

- **A1.** User clicks the “Skip” button → The system navigates directly to the Playback Screen in guest mode.
- **A2.** User does not have an account → User clicks “Register” and is navigated to the Register Screen.

**Exceptions**

- **E1.** Invalid username or password → Show: _"Incorrect username or password."_
- **E2.** Google login failed → Show: _"Unable to connect to Google. Please check your connection."_

**Note**  
The “Skip” button allows limited guest access to the Playback Screen without login.

---

## UC-2: Register

**Description**  
The user registers a new account, and the system saves this account to the database.

**Actors**  
User

**Goal**  
Create and save a new account for the user.

**Preconditions**  
The user has not registered an account.

**Postconditions**  
The user is navigated to the Login Screen and can log in to the application with the registered account.

**Main Flow**

1. The user opens the Register screen.
2. The user enters their full name, username, password, password confirmation, date of birth, and genre.
3. The user clicks the “Register” button.
4. The system validates all required fields and checks if the username already exists.
5. If valid, the system saves the new account to the database.
6. The system displays a success message and navigates the user to the login screen.

**Alternative Flow**

- **A1.** Username already exists → Show: _"Username already taken."_ and stay on the Register screen.

**Exceptions**

- **E1.** Required fields empty → Highlight and show error message.
- **E2.** Password and confirmation do not match → Show: _"Passwords do not match."_
- **E3.** Database error → Show: _"Registration failed. Please try again later."_

**Note**  
Password must be at least 6 characters. No email verification required. Single-device environment assumed.

---

## UC-3: Profile Management

**Description**  
Allow the user to view and update their personal profile information.

**Actors**  
User

**Goal**  
Enable the user to manage their profile information in the application.

**Preconditions**  
The user is logged into the system.

**Postconditions**  
Updated profile information is saved to the database.

**Main Flow**

1. The user navigates to the Profile screen.
2. The system loads and displays current profile data.
3. The user edits name, date of birth, and genre if desired.
4. The user optionally changes the password (current → new → confirm new).
5. The user clicks the “Save” button.
6. The system validates the input.
7. If valid, the system updates the profile in the database and shows a success message.

**Alternative Flow**

- **A1.** Only personal information updated → Leave password fields blank and update non-password fields.

**Exceptions**

- **E1.** Required fields empty → Highlight and show error message.
- **E2.** Incorrect current password → Show: _"Current password is incorrect."_
- **E3.** New password and confirmation mismatch → Show: _"Passwords do not match."_
- **E4.** Database error → Show: _"Profile update failed. Please try again later."_

**Note**  
Password must be at least 6 characters. Date format: **YYYY-MM-DD**. Genre from predefined options.

---

## UC-4: Play a Song

**Description**  
Allow users to search and play songs from the database or personal playlists.

**Actors**  
User, Guest

**Goal**  
Play a song and allow playback controls.

**Preconditions**  
System has a music database. Login required for personal playlists.

**Postconditions**  
A song is played with playback controls.

**Main Flow**

1. The user navigates to the Playback screen.
2. Search for a song or browse categories.
3. System displays matching songs.
4. The user selects a song.
5. If from database → Play song.  
   If from personal playlist → Check login:
   - If logged in: Play song.
   - If not: Show error.
6. While playing, user can:
   - Adjust volume
   - Next / Previous
   - Shuffle
   - Repeat (All / One)

**Alternative Flow**

- **A1.** Shuffle enabled → Play songs in random order.
- **A2.** Repeat One → Loop current song.
- **A3.** Repeat All → Loop all songs in list.

**Exceptions**

- **E1.** Guest accessing personal playlist → Show: _"Please log in to access personal playlists."_
- **E2.** No songs found → Show: _"No songs found."_
- **E3.** Song fails to load → Show: _"Unable to play this song."_
- **E4.** Invalid volume → Ignore.

**Note**  
Guest can only play public songs. Playback controls are available to all.

---

## UC-5: Playlist Management

**Description**  
Allow a logged-in user to create, rename, delete playlists and manage songs.

**Actors**  
User

**Goal**  
Manage personal playlists and songs within them.

**Preconditions**  
The user must be logged in.

**Postconditions**  
Playlist changes saved to the database.

**Main Flow**

1. Navigate to “Playlist Management”.
2. Create a new playlist by entering a name and clicking “Create”.
3. Select an existing playlist to rename or delete.
4. Rename playlist by entering a new name and saving.
5. Add songs from the database or search, edit song info (if allowed), or remove songs.
6. Save all changes to the database.

**Alternative Flows**

- **A1.** Playlist name already exists → Show error.
- **A2.** User cancels creation/edit.
- **A3.** No changes made → Exit.

**Exceptions**

- **E1.** Empty fields → Validation error.
- **E2.** Database error → Show retry message.
- **E3.** Attempt to modify playlist not owned → Deny access.

**Note**  
Only logged-in users can manage personal playlists. Default playlists cannot be deleted.
